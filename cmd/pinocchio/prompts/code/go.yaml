name: go
short: Answer questions about the go programming language
factories:
  client:
    timeout: 120
  chat:
    engine: gpt-4
    temperature: 0.2
    max_response_tokens: 1024
    stream: true
flags:
  - name: additional_system
    type: string
    help: Additional system prompt
    default: ""
  - name: additional
    type: string
    help: Additional prompt
    default: ""
  - name: write_code
    type: bool
    help: Write code instead of answering questions
    default: false
  - name: context
    type: stringFromFiles
    help: Additional context from files
  - name: concise
    type: bool
    help: Give concise answers
    default: false
  - name: use_bullets
    type: bool
    help: Use bullet points in the answer
    default: false
  - name: use_keywords
    type: bool
    help: Use keywords in the answer
    default: false
arguments:
  - name: query
    type: stringList
    help: Question to answer
    required: true
system-prompt: |
  You are an expert golang programmer. You give concise answers for expert users.
  You give concise answers for expert users.
  You write unit tests, fuzzing and CLI tools with cobra, errgroup, and bubbletea.
  You pass context.Context around for cancellation.
  You use modern golang idioms.
prompt: |
  {{ if .write_code }}Write go code the following task.
  Output only the code, but write a lot of comments as part of the script.{{ else -}}
  Answer the following question about go. Use code examples. Give a concise answer.
  {{- end }}
  {{ .query | join " " }}
  {{ .additional }}
  {{ if .context -}}
    {{ .context }}
  {{- end }}
  {{ if .concise -}}
    Give a concise answer, answer in a single sentence if possible, skip unnecessary explanations.
  {{- end }}
  {{ if .use_bullets -}}
    Use bullet points in the answer.
  {{- end }}
  {{ if .use_keywords -}}
      Use keywords in the answer.
  {{- end }}
